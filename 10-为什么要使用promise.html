<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
    <title>为什么要使用promise</title>
    <style type="text/css">
        #box {
            border: 2px dotted green;
        }
    </style>
</head>

<body>
    <ul id="box"></ul>
</body>
<script>
    //promise用来解决异步操作的回调地狱问题的
    $(function () {
        $.getJSON("./json/01.json", function (res) {
            let data = res.matchedProducts;
            console.log(data);
            for (var i = 0; i < data.length; i++) {
                var $li = $(`<li>序号：${data[i].collection_num}-- 标题：${data[i].pro_title}</li>`);
                $('#box').append($li);
            }
        })
        $.getJSON("./json/02.json", function (res) {
            let data = res.matchedProducts;
            console.log(data);
            for (var i = 0; i < data.length; i++) {
                var $li = $(`<li>序号：${data[i].collection_num}-- 标题：${data[i].pro_title}</li>`);
                $('#box').append($li);
            }
        })
        $.getJSON("./json/03.json", function (res) {
            let data = res.matchedProducts;
            console.log(data);
            for (var i = 0; i < data.length; i++) {
                var $li = $(`<li>序号：${data[i].collection_num}-- 标题：${data[i].pro_title}</li>`);
                $('#box').append($li);
            }
        })


        // Promise.all([p1]).then(function (res) { 

        //  })
    })
</script>

</html>